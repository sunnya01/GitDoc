<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) -->
<title>StructuredTaskScope.Joiner (Java SE 25 &amp; JDK 25)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: java.base, package: java.util.concurrent, interface: StructuredTaskScope, interface: Joiner">
<meta name="generator" content="javadoc/ClassWriter">
<meta name="keywords" content="java.util.concurrent.StructuredTaskScope.Joiner interface">
<meta name="keywords" content="onFork()">
<meta name="keywords" content="onComplete()">
<meta name="keywords" content="result()">
<meta name="keywords" content="allSuccessfulOrThrow()">
<meta name="keywords" content="anySuccessfulResultOrThrow()">
<meta name="keywords" content="awaitAllSuccessfulOrThrow()">
<meta name="keywords" content="awaitAll()">
<meta name="keywords" content="allUntil()">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/StructuredTaskScope.Joiner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language"><div><strong>Java SE 25 &amp; JDK 25</strong> </div></div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="../../../module-summary.html">java.base</a></li>
<li><a href="package-summary.html">java.util.concurrent</a></li>
<li><a href="StructuredTaskScope.html">StructuredTaskScope</a></li>
<li><a href="StructuredTaskScope.Joiner.html" class="current-selection">Joiner</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#onFork(java.util.concurrent.StructuredTaskScope.Subtask)" tabindex="0">onFork(StructuredTaskScope.Subtask)</a></li>
<li><a href="#onComplete(java.util.concurrent.StructuredTaskScope.Subtask)" tabindex="0">onComplete(StructuredTaskScope.Subtask)</a></li>
<li><a href="#result()" tabindex="0">result()</a></li>
<li><a href="#allSuccessfulOrThrow()" tabindex="0">allSuccessfulOrThrow()</a></li>
<li><a href="#anySuccessfulResultOrThrow()" tabindex="0">anySuccessfulResultOrThrow()</a></li>
<li><a href="#awaitAllSuccessfulOrThrow()" tabindex="0">awaitAllSuccessfulOrThrow()</a></li>
<li><a href="#awaitAll()" tabindex="0">awaitAll()</a></li>
<li><a href="#allUntil(java.util.function.Predicate)" tabindex="0">allUntil(Predicate)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Interface StructuredTaskScope.Joiner" class="title">Interface StructuredTaskScope.Joiner&lt;T,<wbr>R&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="type-param-T"><code>T</code> - the result type of subtasks executed in the scope</span></dd>
<dd><span id="type-param-R"><code>R</code> - the result type of the scope</span></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><code><a href="StructuredTaskScope.html" title="interface in java.util.concurrent">StructuredTaskScope</a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup>&lt;<a href="StructuredTaskScope.html#type-param-T" title="type parameter in StructuredTaskScope">T</a>,<wbr><a href="StructuredTaskScope.html#type-param-R" title="type parameter in StructuredTaskScope">R</a>&gt;</code></dd>
</dl>
<dl class="notes">
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="annotations"><a href="../../lang/FunctionalInterface.html" title="annotation interface in java.lang">@FunctionalInterface</a>
</span><span class="modifiers">public static interface </span><span class="element-name type-name-label">StructuredTaskScope.Joiner&lt;T,<wbr>R&gt;</span></div>
<div class="preview-block" id="preview-java.util.concurrent.StructuredTaskScope.Joiner"><span class="preview-label"><code>Joiner</code> is a preview API of the Java platform.</span>
<div class="preview-comment">Programs can only use <code>Joiner</code> when preview features are enabled.</div>
<div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.</div>
</div>
<div class="block">An object used with a <a href="StructuredTaskScope.html" title="interface in java.util.concurrent"><code>StructuredTaskScope</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> to handle subtask completion and
produce the result for the scope owner waiting in the <a href="StructuredTaskScope.html#join()"><code>join</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> method
for subtasks to complete.

<p> Joiner defines static methods to create <code>Joiner</code> objects for common cases:
<ul>
  <li> <a href="#allSuccessfulOrThrow()"><code>allSuccessfulOrThrow()</code></a> creates a <code>Joiner</code>
  that yields a stream of the completed subtasks for <code>join</code> to return when
  all subtasks complete successfully. It cancels the scope and causes <code>join</code>
  to throw if any subtask fails.
  <li> <a href="#anySuccessfulResultOrThrow()"><code>anySuccessfulResultOrThrow()</code></a> creates a
  <code>Joiner</code> that yields the result of the first subtask to succeed for <code>
  join</code> to return. It causes <code>join</code> to throw if all subtasks fail.
  <li> <a href="#awaitAllSuccessfulOrThrow()"><code>awaitAllSuccessfulOrThrow()</code></a> creates a
  <code>Joiner</code> that waits for all successful subtasks. It cancels the scope and
  causes <code>join</code> to throw if any subtask fails.
  <li> <a href="#awaitAll()"><code>awaitAll()</code></a> creates a <code>Joiner</code> that waits for all
  subtasks. It does not cancel the scope or cause <code>join</code> to throw.
</ul>

<p> In addition to the methods to create <code>Joiner</code> objects for common cases,
the <a href="#allUntil(java.util.function.Predicate)"><code>allUntil(Predicate)</code></a> method is defined to create a
<code>Joiner</code> that yields a stream of all subtasks. It is created with a <a href="../function/Predicate.html" title="interface in java.util.function"><code>Predicate</code></a> that determines if the scope should continue or be cancelled.
This <code>Joiner</code> can be built upon to create custom policies that cancel the
scope based on some condition.

<p> More advanced policies can be developed by implementing the <code>Joiner</code>
interface. The <a href="#onFork(java.util.concurrent.StructuredTaskScope.Subtask)"><code>onFork(Subtask)</code></a> method is invoked when subtasks are forked.
The <a href="#onComplete(java.util.concurrent.StructuredTaskScope.Subtask)"><code>onComplete(Subtask)</code></a> method is invoked when subtasks complete with a
result or exception. These methods return a <code>boolean</code> to indicate if scope
should be cancelled. These methods can be used to collect subtasks, results, or
exceptions, and control when to cancel the scope. The <a href="#result()"><code>result()</code></a> method
must be implemented to produce the result (or exception) for the <code>join</code>
method.

<p> Unless otherwise specified, passing a <code>null</code> argument to a method
in this class will cause a <a href="../../lang/NullPointerException.html" title="class in java.lang"><code>NullPointerException</code></a> to be thrown.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>It is very important that a new <code>Joiner</code> object is created for each
<code>StructuredTaskScope</code>. <code>Joiner</code> objects should never be shared with
different scopes or re-used after a task is closed.

<p> Designing a <code>Joiner</code> should take into account the code at the use-site
where the results from the <a href="StructuredTaskScope.html#join()"><code>join</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> method are
processed. It should be clear what the <code>Joiner</code> does vs. the application
code at the use-site. In general, the <code>Joiner</code> implementation is not the
place for "business logic". A <code>Joiner</code> should be designed to be as general
purpose as possible.</dd>
<dt>Implementation Requirements:</dt>
<dd>Implementations of this interface must be thread safe. The <a href="#onComplete(java.util.concurrent.StructuredTaskScope.Subtask)"><code>onComplete(Subtask)</code></a> method defined by this interface may be invoked by several
threads concurrently.</dd>
<dt>Since:</dt>
<dd>25</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="StructuredTaskScope.html#open(java.util.concurrent.StructuredTaskScope.Joiner)"><code>StructuredTaskScope.open(Joiner)</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static &lt;T&gt;&nbsp;<a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup><wbr>&lt;T, <a href="../stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;T&gt;&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#allSuccessfulOrThrow()" class="member-name-link">allSuccessfulOrThrow</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a new Joiner object that yields a stream of all subtasks when all
subtasks complete successfully.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static &lt;T&gt;&nbsp;<a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup><wbr>&lt;T, <a href="../stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;T&gt;&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#allUntil(java.util.function.Predicate)" class="member-name-link">allUntil</a><wbr>(<a href="../function/Predicate.html" title="interface in java.util.function">Predicate</a>&lt;<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;? extends T&gt;&gt;&nbsp;isDone)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a new Joiner object that yields a stream of all subtasks when all
subtasks complete or a predicate returns <code>true</code> to cancel the scope.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static &lt;T&gt;&nbsp;<a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup><wbr>&lt;T,<wbr>T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#anySuccessfulResultOrThrow()" class="member-name-link">anySuccessfulResultOrThrow</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a new Joiner object that yields the result of any subtask that
completed successfully.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static &lt;T&gt;&nbsp;<a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup><wbr>&lt;T,<wbr><a href="../../lang/Void.html" title="class in java.lang">Void</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#awaitAll()" class="member-name-link">awaitAll</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a new Joiner object that waits for all subtasks to complete.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static &lt;T&gt;&nbsp;<a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup><wbr>&lt;T,<wbr><a href="../../lang/Void.html" title="class in java.lang">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#awaitAllSuccessfulOrThrow()" class="member-name-link">awaitAllSuccessfulOrThrow</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a new Joiner object that waits for subtasks to complete successfully.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#onComplete(java.util.concurrent.StructuredTaskScope.Subtask)" class="member-name-link">onComplete</a><wbr>(<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;? extends <a href="#type-param-T" title="type parameter in StructuredTaskScope.Joiner">T</a>&gt;&nbsp;subtask)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Invoked by the thread started to execute a subtask after the subtask completes
successfully or fails with an exception.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#onFork(java.util.concurrent.StructuredTaskScope.Subtask)" class="member-name-link">onFork</a><wbr>(<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;? extends <a href="#type-param-T" title="type parameter in StructuredTaskScope.Joiner">T</a>&gt;&nbsp;subtask)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Invoked by <a href="StructuredTaskScope.html#fork(java.util.concurrent.Callable)"><code>fork(Callable)</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> and <a href="StructuredTaskScope.html#fork(java.lang.Runnable)"><code>fork(Runnable)</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> when forking a subtask.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#type-param-R" title="type parameter in StructuredTaskScope.Joiner">R</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#result()" class="member-name-link">result</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Invoked by the <a href="StructuredTaskScope.html#join()"><code>join()</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> method to produce the result (or exception)
after waiting for all subtasks to complete or the scope cancelled.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onFork(java.util.concurrent.StructuredTaskScope.Subtask)">
<h3>onFork</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">onFork</span><wbr><span class="parameters">(<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;? extends <a href="#type-param-T" title="type parameter in StructuredTaskScope.Joiner">T</a>&gt;&nbsp;subtask)</span></div>
<div class="block">Invoked by <a href="StructuredTaskScope.html#fork(java.util.concurrent.Callable)"><code>fork(Callable)</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> and <a href="StructuredTaskScope.html#fork(java.lang.Runnable)"><code>fork(Runnable)</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> when forking a subtask. The method is invoked from the task
owner thread. The method is invoked before a thread is created to run the
subtask.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method is invoked by the <code>fork</code> methods. It should not be
invoked directly.</dd>
<dt>Implementation Requirements:</dt>
<dd>The default implementation throws <code>NullPointerException</code> if the
subtask is <code>null</code>. It throws <code>IllegalArgumentException</code> if the
subtask is not in the <a href="StructuredTaskScope.Subtask.State.html#UNAVAILABLE"><code>UNAVAILABLE</code></a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.State.html#preview-java.util.concurrent.StructuredTaskScope.Subtask.State">PREVIEW</a></sup> state, it
otherwise returns <code>false</code>.</dd>
<dt>Parameters:</dt>
<dd><code>subtask</code> - the subtask</dd>
<dt>Returns:</dt>
<dd><code>true</code> to cancel the scope, otherwise <code>false</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="onComplete(java.util.concurrent.StructuredTaskScope.Subtask)">
<h3>onComplete</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">onComplete</span><wbr><span class="parameters">(<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;? extends <a href="#type-param-T" title="type parameter in StructuredTaskScope.Joiner">T</a>&gt;&nbsp;subtask)</span></div>
<div class="block">Invoked by the thread started to execute a subtask after the subtask completes
successfully or fails with an exception. This method is not invoked if a
subtask completes after the scope is cancelled.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method is invoked by subtasks when they complete. It should not
be invoked directly.</dd>
<dt>Implementation Requirements:</dt>
<dd>The default implementation throws <code>NullPointerException</code> if the
subtask is <code>null</code>. It throws <code>IllegalArgumentException</code> if the
subtask is not in the <a href="StructuredTaskScope.Subtask.State.html#SUCCESS"><code>SUCCESS</code></a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.State.html#preview-java.util.concurrent.StructuredTaskScope.Subtask.State">PREVIEW</a></sup> or <a href="StructuredTaskScope.Subtask.State.html#FAILED"><code>FAILED</code></a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.State.html#preview-java.util.concurrent.StructuredTaskScope.Subtask.State">PREVIEW</a></sup> state, it otherwise returns <code>false</code>.</dd>
<dt>Parameters:</dt>
<dd><code>subtask</code> - the subtask</dd>
<dt>Returns:</dt>
<dd><code>true</code> to cancel the scope, otherwise <code>false</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="result()">
<h3>result</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="#type-param-R" title="type parameter in StructuredTaskScope.Joiner">R</a></span>&nbsp;<span class="element-name">result</span>()
  throws <span class="exceptions"><a href="../../lang/Throwable.html" title="class in java.lang">Throwable</a></span></div>
<div class="block">Invoked by the <a href="StructuredTaskScope.html#join()"><code>join()</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> method to produce the result (or exception)
after waiting for all subtasks to complete or the scope cancelled. The result
from this method is returned by the <code>join</code> method. If this method throws,
then <code>join</code> throws <a href="StructuredTaskScope.FailedException.html" title="class in java.util.concurrent"><code>StructuredTaskScope.FailedException</code></a><sup class="preview-mark"><a href="StructuredTaskScope.FailedException.html#preview-java.util.concurrent.StructuredTaskScope.FailedException">PREVIEW</a></sup> with the exception thrown by
this method as the cause.

<p> In normal usage, this method will be called at most once by the <code>join</code>
method to produce the result (or exception). The behavior of this method when
invoked directly, and invoked more than once, is undefined. Where possible, an
implementation should return an equal result (or throw the same exception) on
second or subsequent calls to produce the outcome.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This method is invoked by the <code>join</code> method. It should not be
invoked directly.</dd>
<dt>Returns:</dt>
<dd>the result</dd>
<dt>Throws:</dt>
<dd><code><a href="../../lang/Throwable.html" title="class in java.lang">Throwable</a></code> - the exception</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="allSuccessfulOrThrow()">
<h3>allSuccessfulOrThrow</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup>&lt;T, <a href="../stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;T&gt;&gt;&gt;</span>&nbsp;<span class="element-name">allSuccessfulOrThrow</span>()</div>
<div class="block">Returns a new Joiner object that yields a stream of all subtasks when all
subtasks complete successfully.
The <code>Joiner</code> <a href="StructuredTaskScope.html#Cancallation">cancels</a>
the scope and causes <code>join</code> to throw if any subtask fails.

<p> If all subtasks complete successfully, the joiner's <a href="#result()"><code>result()</code></a>
method returns a stream of all subtasks in the order that they were forked.
If any subtask failed then the <code>result</code> method throws the exception from
the first subtask to fail.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>Joiners returned by this method are suited to cases where all subtasks
return a result of the same type. Joiners returned by <a href="#awaitAllSuccessfulOrThrow()"><code>awaitAllSuccessfulOrThrow()</code></a> are suited to cases where the subtasks return
results of different types.</dd>
<dt>Type Parameters:</dt>
<dd><span id="allSuccessfulOrThrow()-type-param-T"><code>T</code> - the result type of subtasks</span></dd>
<dt>Returns:</dt>
<dd>a new Joiner object that yields a stream of all subtasks when all
subtasks complete successfully</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="anySuccessfulResultOrThrow()">
<h3>anySuccessfulResultOrThrow</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup>&lt;T,<wbr>T&gt;</span>&nbsp;<span class="element-name">anySuccessfulResultOrThrow</span>()</div>
<div class="block">Returns a new Joiner object that yields the result of any subtask that
completed successfully.
The <code>Joiner</code> causes <code>join</code> to throw if all subtasks fail.

<p> The joiner's <a href="#result()"><code>result()</code></a> method returns the result of a subtask
that completed successfully. If all subtasks fail then the <code>result</code> method
throws the exception from one of the failed subtasks. The <code>result</code> method
throws <code>NoSuchElementException</code> if no subtasks were forked.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="anySuccessfulResultOrThrow()-type-param-T"><code>T</code> - the result type of subtasks</span></dd>
<dt>Returns:</dt>
<dd>a new Joiner object that yields the result of any subtask that
completed successfully</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitAllSuccessfulOrThrow()">
<h3>awaitAllSuccessfulOrThrow</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup>&lt;T,<wbr><a href="../../lang/Void.html" title="class in java.lang">Void</a>&gt;</span>&nbsp;<span class="element-name">awaitAllSuccessfulOrThrow</span>()</div>
<div class="block">Returns a new Joiner object that waits for subtasks to complete successfully.
The <code>Joiner</code> <a href="StructuredTaskScope.html#Cancallation">cancels</a>
the scope and causes <code>join</code> to throw if any subtask fails.

<p> The joiner's <a href="#result()"><code>result</code></a> method returns <code>null</code>
if all subtasks complete successfully, or throws the exception from the first
subtask to fail.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>Joiners returned by this method are suited to cases where subtasks
return results of different types. Joiners returned by <a href="#allSuccessfulOrThrow()"><code>allSuccessfulOrThrow()</code></a>
are suited to cases where the subtasks return a result of the same type.</dd>
<dt>Type Parameters:</dt>
<dd><span id="awaitAllSuccessfulOrThrow()-type-param-T"><code>T</code> - the result type of subtasks</span></dd>
<dt>Returns:</dt>
<dd>a new Joiner object that waits for subtasks to complete successfully</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitAll()">
<h3>awaitAll</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup>&lt;T,<wbr><a href="../../lang/Void.html" title="class in java.lang">Void</a>&gt;</span>&nbsp;<span class="element-name">awaitAll</span>()</div>
<div class="block">Returns a new Joiner object that waits for all subtasks to complete.
The <code>Joiner</code> does not cancel the scope if a subtask fails.

<p> The joiner's <a href="#result()"><code>result</code></a> method returns <code>null</code>.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>This Joiner is useful for cases where subtasks make use of
<em>side-effects</em> rather than return results or fail with exceptions.
The <a href="StructuredTaskScope.html#fork(java.lang.Runnable)"><code>fork(Runnable)</code></a><sup class="preview-mark"><a href="StructuredTaskScope.html#preview-java.util.concurrent.StructuredTaskScope">PREVIEW</a></sup> method can be used to fork subtasks
that do not return a result.

<p> This Joiner can also be used for <em>fan-in</em> scenarios where subtasks
are forked to handle incoming connections and the number of subtasks is unbounded.
In this example, the thread executing the <code>acceptLoop</code> method will only
stop when interrupted or the listener socket is closed asynchronously.
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-awaitAll()1"><code class="language-java">  void acceptLoop(ServerSocket listener) throws IOException, InterruptedException {
      try (var scope = StructuredTaskScope.open(Joiner.&lt;Socket&gt;awaitAll())) {
          while (true) {
              Socket socket = listener.accept();
              scope.fork(() -&gt; handle(socket));
          }
      }
  }
</code></pre>
</div>
</dd>
<dt>Type Parameters:</dt>
<dd><span id="awaitAll()-type-param-T"><code>T</code> - the result type of subtasks</span></dd>
<dt>Returns:</dt>
<dd>a new Joiner object that waits for all subtasks to complete</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="allUntil(java.util.function.Predicate)">
<h3>allUntil</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="StructuredTaskScope.Joiner.html" title="interface in java.util.concurrent">StructuredTaskScope.Joiner</a><sup class="preview-mark"><a href="#preview-java.util.concurrent.StructuredTaskScope.Joiner">PREVIEW</a></sup>&lt;T, <a href="../stream/Stream.html" title="interface in java.util.stream">Stream</a>&lt;<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;T&gt;&gt;&gt;</span>&nbsp;<span class="element-name">allUntil</span><wbr><span class="parameters">(<a href="../function/Predicate.html" title="interface in java.util.function">Predicate</a>&lt;<a href="StructuredTaskScope.Subtask.html" title="interface in java.util.concurrent">StructuredTaskScope.Subtask</a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.html#preview-java.util.concurrent.StructuredTaskScope.Subtask">PREVIEW</a></sup>&lt;? extends T&gt;&gt;&nbsp;isDone)</span></div>
<div class="block">Returns a new Joiner object that yields a stream of all subtasks when all
subtasks complete or a predicate returns <code>true</code> to cancel the scope.

<p> The joiner's <a href="#onComplete(java.util.concurrent.StructuredTaskScope.Subtask)"><code>onComplete(Subtask)</code></a> method invokes the
predicate's <a href="../function/Predicate.html#test(T)"><code>test</code></a> method with the subtask that
completed successfully or failed with an exception. If the <code>test</code> method
returns <code>true</code> then <a href="StructuredTaskScope.html#Cancallation">
the scope is cancelled</a>. The <code>test</code> method must be thread safe as it
may be invoked concurrently from several threads. If the <code>test</code> method
completes with an exception or error, then the thread that executed the subtask
invokes the <a href="../../lang/Thread.UncaughtExceptionHandler.html" title="interface in java.lang">uncaught exception handler</a>
with the exception or error before the thread terminates.

<p> The joiner's <a href="#result()"><code>result()</code></a> method returns the stream of all subtasks,
in fork order. The stream may contain subtasks that have completed
(in <a href="StructuredTaskScope.Subtask.State.html#SUCCESS"><code>SUCCESS</code></a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.State.html#preview-java.util.concurrent.StructuredTaskScope.Subtask.State">PREVIEW</a></sup> or <a href="StructuredTaskScope.Subtask.State.html#FAILED"><code>FAILED</code></a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.State.html#preview-java.util.concurrent.StructuredTaskScope.Subtask.State">PREVIEW</a></sup>
state) or subtasks in the <a href="StructuredTaskScope.Subtask.State.html#UNAVAILABLE"><code>UNAVAILABLE</code></a><sup class="preview-mark"><a href="StructuredTaskScope.Subtask.State.html#preview-java.util.concurrent.StructuredTaskScope.Subtask.State">PREVIEW</a></sup> state
if the scope was cancelled before all subtasks were forked or completed.

<p> The following example uses this method to create a <code>Joiner</code> that
<a href="StructuredTaskScope.html#Cancallation">cancels</a> the scope when
two or more subtasks fail.
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-allUntil(java.util.function.Predicate)1"><code class="language-java">   class CancelAfterTwoFailures&lt;T&gt; implements Predicate&lt;Subtask&lt;? extends T&gt;&gt; {
        private final AtomicInteger failedCount = new AtomicInteger();
        @Override
        public boolean test(Subtask&lt;? extends T&gt; subtask) {
            return subtask.state() == Subtask.State.FAILED
                    &amp;&amp; failedCount.incrementAndGet() &gt;= 2;
        }
    }

    var joiner = Joiner.all(new CancelAfterTwoFailures&lt;String&gt;());
</code></pre>
</div>


<p> The following example uses <code>allUntil</code> to wait for all subtasks to
complete without any cancellation. This is similar to <a href="#awaitAll()"><code>awaitAll()</code></a>
except that it yields a stream of the completed subtasks.
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-allUntil(java.util.function.Predicate)2"><code class="language-java">   &lt;T&gt; List&lt;Subtask&lt;T&gt;&gt; invokeAll(Collection&lt;Callable&lt;T&gt;&gt; tasks) throws InterruptedException {
       try (var scope = StructuredTaskScope.open(Joiner.&lt;T&gt;allUntil(_ -&gt; false))) {
           tasks.forEach(scope::fork);
           return scope.join().toList();
       }
   }
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="allUntil(java.util.function.Predicate)-type-param-T"><code>T</code> - the result type of subtasks</span></dd>
<dt>Parameters:</dt>
<dd><code>isDone</code> - the predicate to evaluate completed subtasks</dd>
<dt>Returns:</dt>
<dd>a new Joiner object that yields a stream of all subtasks when all
subtasks complete or a predicate returns <code>true</code> to cancel the scope</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase25&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2025, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java25speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 25.0.1+8-LTS-27 --></small></p>
</footer>
</main>
</div>
</body>
</html>
